{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","services/apiService.js","App.js","index.js"],"names":["Searchbar","className","onSubmit","this","props","type","onChange","handleChange","name","value","query","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","image","onOpen","onClick","largeImageURL","src","webformatURL","alt","tags","ImageGallery","images","map","id","Loader","classname","color","height","width","timeout","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","console","log","onClose","handleBackdropClick","event","currentTarget","target","window","addEventListener","removeEventListener","createPortal","axios","defaults","baseURL","getPictures","page","get","then","resp","data","hits","App","state","setOfImages","bigImg","showModal","error","handlChangeQuery","setState","handleSubmit","preventDefault","resetState","trim","response","toast","onPictureClick","img","prevState","openModal","closeModal","prevProps","catch","status","finally","loading","scrollTo","top","documentElement","scrollHeight","behavior","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.59877b07.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Searchbar extends Component {\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.props.onSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={this.props.handleChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"query\"\n            value={this.props.query}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport { Searchbar };\n","import React from 'react';\n\nfunction ImageGalleryItem({ image, onOpen }) {\n  // console.log(image);\n  return (\n    <li\n      className=\"ImageGalleryItem\"\n      onClick={() => onOpen(image.largeImageURL)}\n    >\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n\nexport { ImageGalleryItem };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\n\nfunction ImageGallery({ images, onOpen }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(image => (\n        <ImageGalleryItem image={image} key={image.id} onClick={onOpen} />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onOpen: PropTypes.func.isRequired,\n};\n\nexport { ImageGallery };\n","import NewLoader from 'react-loader-spinner';\n\nfunction Loader() {\n  return (\n    <NewLoader\n      classname=\"loader\"\n      type=\"ThreeDots\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      timeout={3000} //3 secs\n    />\n  );\n}\n\nexport { Loader };\n","import React from 'react';\n\nfunction Button({ onLoadMore }) {\n  return (\n    <div className=\"containerButton\">\n      <button type=\"button\" className=\"button\" onClick={onLoadMore}>\n        load more\n      </button>\n    </div>\n  );\n}\n\nexport { Button };\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    // console.log('Modal componentDidMount');\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    // console.log('Modal componentWillUnmount');\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Нажали ESC, нужно закрыть модалку');\n\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    // console.log('Кликнули в бекдроп');\n\n    // console.log('currentTarget: ', event.currentTarget);\n    // console.log('target: ', event.target);\n\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img\n            src={this.props.src}\n            alt={this.props.alt}\n            width=\"1200px\"\n            height=\"800px\"\n          />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport { Modal };\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api';\nconst API_KEY = '23028809-0eadab1d20ccc1cb386303aa3';\n\nexport function getPictures(query, page) {\n  return axios\n    .get(\n      `/?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${API_KEY}`,\n    )\n    .then(resp => resp.data.hits);\n}\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\n\nimport { Searchbar } from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\nimport { Loader } from './components/Loader/Loader';\nimport { Button } from './components/Button/Button';\nimport { Modal } from './components/Modal/Modal';\nimport { getPictures } from './services/apiService';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    setOfImages: [],\n    page: 1,\n    bigImg: null,\n    showModal: false,\n    // status: 'idle',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.query !== query || prevState.page !== page) {\n      // this.setState({ status: 'pending' });\n      getPictures(query, page)\n        .catch(error => this.setState({ error, status: 'rejected' }))\n        .finally(() => this.setState({ loading: false }));\n    }\n    if (this.state.page > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handlChangeQuery = e => {\n    // console.log(e.currentTarget.value);\n    this.setState({\n      [e.currentTarget.name]: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.resetState();\n\n    if (this.state.query.trim() === '') {\n      toast.error('Nothing for request!');\n      return;\n    }\n    getPictures(this.state.query, this.state.page).then(response =>\n      this.setState({ setOfImages: response }),\n    );\n  };\n\n  resetState = () => {\n    this.setState({\n      setOfImages: [],\n      page: 1,\n      error: null,\n    });\n  };\n\n  onPictureClick = largeImageURL => {\n    this.setState({ bigImg: largeImageURL });\n  };\n\n  onLoadMore = () => {\n    const { query, page } = this.state;\n    getPictures(query, page).then(img =>\n      this.setState(prevState => ({\n        setOfImages: [...prevState.setOfImages, ...img],\n        page: prevState.page + 1,\n        // status: 'resolved',\n      })),\n    );\n  };\n\n  openModal = (src, alt) => {\n    this.setState({\n      showModal: true,\n      bigImg: { src, alt },\n    });\n  };\n\n  closeModal = () => this.setState({ showModal: false });\n\n  render() {\n    return (\n      <div>\n        <Searchbar\n          query={this.state.query}\n          handleChange={this.handlChangeQuery}\n          onSubmit={this.handleSubmit}\n        />\n        <ImageGallery\n          images={this.state.setOfImages}\n          page={this.state.page}\n          onOpen={this.openModal}\n        />\n        <Loader />\n        {this.state.setOfImages.length > 0 && (\n          <Button onLoadMore={this.onLoadMore} />\n        )}\n        {this.state.showModal && (\n          <Modal\n            onClose={this.closeModal}\n            src={this.state.bigImg}\n            alt={this.state.query}\n          />\n        )}\n        <ToastContainer autoClose={2000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}